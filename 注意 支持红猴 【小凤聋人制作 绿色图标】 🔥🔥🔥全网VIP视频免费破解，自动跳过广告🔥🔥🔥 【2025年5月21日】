// ==UserScript==
// @name          ã€å°å‡¤è‹äººåˆ¶ä½œ ç»¿è‰²å›¾æ ‡ã€‘ ğŸ”¥ğŸ”¥ğŸ”¥å…¨ç½‘VIPè§†é¢‘å…è´¹ç ´è§£ï¼Œè‡ªåŠ¨è·³è¿‡å¹¿å‘ŠğŸ”¥ğŸ”¥ğŸ”¥
// @namespace    http://tampermonkey.net/
// @version        æ›´æ–°:0.0.5 ã€2025å¹´5æœˆ21æ—¥ã€‘
// @description    å…¨å›½vipè§†é¢‘è§£æ, å¤–åµŒè§£æï¼Œä½“éªŒè…¾è®¯ã€çˆ±å¥‡è‰ºã€ä¼˜é…·ç­‰vipè§†é¢‘ç½‘ç«™
// @author        ã€å°å‡¤è‹äººåˆ¶ä½œ ç»¿è‰²å›¾æ ‡ã€‘ ğŸ”¥ğŸ”¥ğŸ”¥å…¨ç½‘VIPè§†é¢‘å…è´¹ç ´è§£ï¼Œè‡ªåŠ¨è·³è¿‡å¹¿å‘ŠğŸ”¥ğŸ”¥ğŸ”¥
//@icon         https://qlogo2.store.qq.com/qzone/157903109/157903109/50?1663513516
// @match             *://*.youku.com/*
// @match             *://*.iqiyi.com/*
// @match             *://*.iq.com/*
// @match             *://*.le.com/*
// @match             *://v.qq.com/*
// @match             *://m.v.qq.com/*
// @match             *://*.tudou.com/*
// @match             *://*.mgtv.com/*
// @match             *://tv.sohu.com/*
// @match             *://film.sohu.com/*
// @match             *://*.1905.com/*
// @match             *://*.bilibili.com/*
// @match             *://*.pptv.com/*


// @include      *://*.zhihu.com/*
// @include      *://bbs.csdn.net/*
// @include      *://www.csdn.net/*
// @include      *://blog.csdn.net/*/article/details/*
// @include      *://*.blog.csdn.net/article/details/*
// @include      *://*.youku.com/v_*
// @include      *://www.iqiyi.com/*
// @include      *://www.iqiyi.com
// @include      *://*.iqiyi.com/v_*
// @include      *://*.iqiyi.com/w_*
// @include      *://*.iqiyi.com/a_*
// @include      *://*.le.com/ptv/vplay/*
// @include      *://v.qq.com/x/cover/*
// @include      *://v.qq.com/x/page/*
// @include      *://*.tudou.com/listplay/*
// @include      *://*.tudou.com/albumplay/*
// @include      *://*.tudou.com/programs/view/*
// @include      *://*.mgtv.com/b/*
// @include      *://film.sohu.com/album/*
// @include      *://tv.sohu.com/v/*
// @include      *://*.acfun.cn/v/*
// @include      *://*.bilibili.com/video/*
// @include      *://*.bilibili.com/anime/*
// @include      *://*.bilibili.com/bangumi/play/*
// @include      *://*.baofeng.com/play/*
// @include      *://vip.pptv.com/show/*
// @include      *://v.pptv.com/show/*


// @require           https://cdn.bootcdn.net/ajax/libs/jquery/3.6.4/jquery.min.js
// @connect           api.bilibili.com
// @grant             GM_info
// @grant             GM_download
// @run-at            document-idle
// @grant             unsafeWindow
// @grant             GM_addStyle
// @grant             GM_openInTab
// @grant             GM_getValue
// @grant             GM_setValue
// @grant             GM_xmlhttpRequest
// @grant             GM_log
// @charset		      UTF-8
// @license           GPL License
// ==/UserScript==

/*
*

æœ¬è„šæœ¬å®Œå…¨ç”±æœ¬äººåŸåˆ›ï¼Œç¦æ­¢æŠ„è¢­å…¨éƒ¨ä»£ç , å¦‚å‘ç°æœ‰äººæŠ„è¢­ï¼Œæ¬¢è¿ä¸¾æŠ¥ï¼Œè°¢è°¢

è¯·å‹¿ç”¨äºä»»ä½•å•†ä¸šç”¨é€”ï¼Œä»…ä¾›å­¦ä¹ äº¤æµ

*/

(function() {
    'use strict';

    // å®šä¹‰CSSå˜é‡
    const style = document.createElement('style');
    style.innerHTML = `
    .video-parser-container {
        position: fixed;
        bottom: 20px;
        left: 20px;
        display: flex;
        align-items: center;
        z-index: 1000;
    }
    .video-parser-button {
        padding: 10px 20px;
        background-color: var(--button-bg-color, #00FF00);
        color: var(--button-text-color, #000);
        border: var(--button-border, none);
        border-radius: var(--button-border-radius, 5px);
        cursor: pointer;
        font-size: var(--button-font-size, 16px);
        font-family: var(--button-font-family, Arial, sans-serif);
        transition: background-color 0.3s, transform 0.3s;
    }
    .video-parser-button:hover {
        background-color: var(--button-hover-bg-color, #28a745);
        transform: scale(1.05);
    }
    .video-parser-dropdown {
        margin-left: 10px;
    }
    .video-parser-dropdown select {
        padding: 10px 20px;
        background-color: #000;
        color: var(--dropdown-text-color, #007bff);
        border: none;
        border-radius: 5px;
        font-size: 16px;
        cursor: pointer;
        opacity: 1;
    }
    .video-parser-dropdown select:focus {
        outline: none;
    }
    `;
    document.head.appendChild(style);

    // åˆ›å»ºä¸€ä¸ªå®¹å™¨å…ƒç´ 
    const container = document.createElement('div');
    container.className = 'video-parser-container';

    // åˆ›å»ºä¸€ä¸ªæŒ‰é’®å…ƒç´ 
    const button = document.createElement('button');
    button.innerText = 'è§£ææ’­æ”¾';
    button.className = 'video-parser-button';

    // å®šä¹‰ä¸åŒç½‘ç«™çš„CSSå˜é‡
    const cssVariables = {
        'v.qq.com': {
            '--button-bg-color': '#007bff',
            '--button-text-color': '#fff',
            '--button-border-radius': '10px',
            '--button-font-size': '18px',
            '--button-hover-bg-color': '#0056b3',
            '--dropdown-text-color': '#fff'
        },
        'iqiyi.com': {
            '--button-bg-color': '#28a745',
            '--button-text-color': '#fff',
            '--button-border-radius': '0',
            '--button-font-size': '16px',
            '--button-hover-bg-color': '#218838',
            '--dropdown-text-color': '#fff'
        },
        'youku.com': {
            '--button-bg-color': '#800080',
            '--button-text-color': '#FFFFFF',
            '--button-border-radius': '5px',
            '--button-font-size': '16px',
            '--button-hover-bg-color': '#660066',
            '--dropdown-text-color': '#FFFFFF',
        }
    };

    // åº”ç”¨ç›¸åº”çš„CSSå˜é‡
    const hostname = window.location.hostname;
    const siteVars = cssVariables[hostname];
    if (siteVars) {
        for (const [key, value] of Object.entries(siteVars)) {
            button.style.setProperty(key, value);
        }
    }

    // å®šä¹‰è§£ææ¥å£åˆ—è¡¨
    const parseInterfaces = [
        { name: 'è™¾ç±³', url: 'https://jx.xmflv.cc/?url=' },
        { name: 'å¤œå¹•', url: 'https://www.yemu.xyz/?url=' },
        { name: 'CK', url: 'https://www.ckplayer.vip/jiexi/?url=' },
        { name: 'qianqi', url: 'https://api.qianqi.net/vip/?url=' },
        { name: '8090', url: 'https://www.8090g.cn/?url=' },
        { name: 'IK9', url: 'https://yparse.ik9.cc/index.php?url=' },
        { name: 'PM', url: 'https://www.playm3u8.cn/jiexi.php?url=' },
        { name: 'ï¼Ÿï¼Ÿ', url: 'https://jx.m3u8.tv/jiexi/?url=' },
        { name: 'å¤§ç±³', url: 'https://jx.dmflv.cc/?url=' },
        { name: 'äº‘äº‘', url: 'https://jx.77flv.cc/?url=' },
        { name: 'ä¸ƒå“¥', url: 'https://jx.nnxv.cn/tv.php?url=' },
        { name: 'äº‘æ', url: 'https://jx.yparse.com/index.php?url=' },
        { name: 'å†°è±†', url: 'https://jx.xymp4.cc/?url=' },
        { name: 'Ckplayer', url: 'https://bd.jx.cn/?url=' },
        { name: 'é›¶ç‚¹', url: 'http://www.jzmhtt.com/zdy/vip/?url=' },
        { name: 'å‰–å…ƒ', url: 'https://www.pouyun.com/?url=' },
        { name: 'ç›˜å¤', url: 'https://www.pangujiexi.com/jiexi/?url=' },
        { name: '973', url: 'https://jx.973973.xyz/?url=' },
        { name: 'èƒèŸ¹è§£æ', url: 'https://jx.pxjx.cc/?url=' },
        { name: 'çº¢ç‹èµ„æºç½‘', url: 'https://rdfplayer.mrgaocloud.com/player/?url=' },


    ];

    // åˆ›å»ºä¸‹æ‹‰èœå•
    const dropdown = document.createElement('select');
    dropdown.className = 'video-parser-dropdown';

    parseInterfaces.forEach((interfaceItem, index) => {
        const option = document.createElement('option');
        option.value = index;
        option.text = interfaceItem.name;
        dropdown.appendChild(option);
    });

    // ç‚¹å‡»æŒ‰é’®æ—¶è§¦å‘çš„äº‹ä»¶
    button.addEventListener('click', () => {
        const selectedIndex = dropdown.value;
        const selectedInterface = parseInterfaces[selectedIndex];
        const currentUrl = window.location.href;

        if (!selectedInterface.url) {
            alert('å½“å‰é€‰æ‹©çš„è§£ææ¥å£URLä¸ºç©ºï¼Œè¯·è”ç³»å¼€å‘è€…æ›´æ–°');
            return;
        }

        const parseUrl = selectedInterface.url + encodeURIComponent(currentUrl);
        window.open(parseUrl, '_blank');
    });

    // å°†æŒ‰é’®å’Œä¸‹æ‹‰èœå•æ·»åŠ åˆ°å®¹å™¨ä¸­
    container.appendChild(button);
    container.appendChild(dropdown);

    // å°†å®¹å™¨æ·»åŠ åˆ°é¡µé¢ä¸­
    document.body.appendChild(container);
})();
